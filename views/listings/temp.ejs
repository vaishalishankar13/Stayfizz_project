<% layout('/layouts/boilerplate') %>
<style>
  #filters{
    display:flex;
    flex-wrap:wrap;
    align-items: center;
    
  }
  .filter:hover{
    opacity: 1;
    cursor:pointer
  }
  .filter{
    margin-top: 1rem;
    margin-right: 2rem;
    text-align:center;
    opacity:0.7
    
  }
  .tax-info{
    display:none;
  }
  .tax-toggle{
    border: 1px solid black;
    border-radius: 1rem;
    height:3rem;
    padding:0.5rem;
    margin-left: 5rem;
    
  }

</style>
   <div id="filters" class="mt-5">
    <div class="filter">
      <i class="fa-solid fa-fire"></i>
      <div>
        Trending
      </div>
    </div>

    <div class="filter">
      <i class="fa-solid fa-bed "></i>
      <div>
       Rooms
      </div>
    </div>

    <div class="filter">
      <i class="fa-solid fa-mountain"></i>
      <div>
       Moutains
      </div>
    </div>

    <div class="filter">
      <i class="fa-brands fa-fort-awesome"></i>
      <div>
        Castles
      </div>
    </div>

    <div class="filter">
      <i class="fa-solid fa-snowflake"></i>
      <div>
        Artic
      </div>
    </div>

    <div class="filter">
      <i class="fa-solid fa-cow"></i>
      <div>
        Farms
      </div>
    </div>

    <div class="filter">
      <i class="fa-solid fa-umbrella-beach"></i>
      <div>
        Beaches
      </div>
    </div>

    <div class="filter">
      <i class="fa-solid fa-city"></i>
      <div>
        Iconic cities
      </div>
    </div>

    <div class="filter">
      <i class="fa-solid fa-person-swimming"></i>
      <div>
        Amazing Pools
      </div>
    </div>
     
    <div class="tax-toggle">
    <div class="form-check form-switch form-check-reverse">
  <input class="form-check-input" type="checkbox" role="switch" id="flexswitchCheckDefault">
  <label class="form-check-label" for="flexswitchCheckDefault">Total with Tax</label>
</div>
</div>
    
   </div>

<div class="row  row-cols-lg-4 row-cols-md-2 row-cols-sm-1">
    <% for (listing of allListing){%>
        <a class="alllinks" href="/listings/<%=listing._id%>">
    <div class="card" style="width: 20rem;">
  <img src="<%=listing.image.url%>" class="card-img-top myimage" alt="listing_img">
  <div class="card-img-overlay"></div>
  <div class="card-body">
    <p class="card-text"><b><%=listing.title%></b><br>&#8377;<%=listing.price.toLocaleString("en-IN")%>/night
    <i class="tax-info"> &nbsp; +18% GST</i></p>
    
     
  </div>
</div>
</a>
<%}%>
</div>
       <!-- <h1>All listings page</h1>
        <% for (listing of allListing){%>
            <h2><a href="/listings/<%=listing._id%>"><%=listing.title%></a></h2>
            <h3><%=listing.description%></h3>
            <img style="width:200px; height:200px"src="<%=listing.image%>">
               <br><hr>

        <%}%>
        <a href="http://localhost:8080/listings/new">Create new listing</a>-->
    </body>

<script>
  let taxSwitch=document.getElementById("flexswitchCheckDefault")
  taxSwitch.addEventListener("click",()=>{
    let taxInfo=document.getElementsByClassName("tax-info")
    for(info of taxInfo){
      if(info.style.display != "inline"){
      info.style.display="inline"
      }else{
        info.style.display="none"
      }
    }
  })
  


</script>

